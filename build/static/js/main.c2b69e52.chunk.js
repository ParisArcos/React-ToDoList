(this["webpackJsonpreactjs-todo-list"]=this["webpackJsonpreactjs-todo-list"]||[]).push([[0],{27:function(t,e,n){},28:function(t,e,n){},30:function(t,e,n){},39:function(t,e,n){},40:function(t,e,n){},41:function(t,e,n){},42:function(t,e,n){"use strict";n.r(e);var a=n(1),r=n.n(a),c=n(20),s=n.n(c),i=(n(26),n(27),n(15)),o=n(2),l=n(3),j=n(5),u=n(4),d=n(12);n(28);function b(t){window.localStorage.setItem(t.id,JSON.stringify(t))}function h(t){window.localStorage.removeItem(t)}var O=n(0),p=function(t){Object(j.a)(n,t);var e=Object(u.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).formSubmit=function(t){t.preventDefault();var e=a.state,n=e.error,r=e.title,c=a.props.handlerNewToDo;(0===r.length&&a.setState({error:!0}),n||""===r)||(c({id:Object.keys(localStorage).length>0?Math.max.apply(Math,Object(i.a)(Object.keys(localStorage)))+1:1,inputValue:r,done:!1,isEditing:!1}),a.updateState({title:"",error:!1}))},a.handlerInput=function(t){var e=t.target.value,n=0===e.length;a.updateState({text:e,error:n})},a.updateState=function(t){var e=t.text,n=void 0===e?"":e,r=t.error;a.setState({title:n,error:r})},a.state={title:"",error:!1},a}return Object(l.a)(n,[{key:"render",value:function(){var t=this.state,e=t.title,n=t.error;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("form",{onSubmit:this.formSubmit,className:"mb-2",children:Object(O.jsx)("input",{className:"form-control",placeholder:"Do the homework...","data-testid":"create-todo-input",type:"text",value:e,onChange:this.handlerInput})}),Object(O.jsx)("div",{"data-testid":"create-todo-error-message",className:n?"show alert alert-danger":"hide",role:"alert",children:"Please enter at least one character"})]})}}]),n}(r.a.Component),f=function(t){Object(j.a)(n,t);var e=Object(u.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={},a}return Object(l.a)(n,[{key:"render",value:function(){var t=this.props.children;return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("footer",{"data-testid":"app-footer",children:t})})}}]),n}(r.a.Component),m=function(t){Object(j.a)(n,t);var e=Object(u.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={},a}return Object(l.a)(n,[{key:"render",value:function(){var t=this.props.children;return Object(O.jsx)(O.Fragment,{children:t})}}]),n}(r.a.Component),v=n(7),x=n(6),g=(n(30),function(t){Object(j.a)(n,t);var e=Object(u.a)(n);function n(t){var a;Object(o.a)(this,n),(a=e.call(this,t)).completeHandler=function(){var t=a.state.done,e=a.props.refreshState;t?b(Object(v.a)(Object(v.a)({},a.state),{},{done:!1}),a.setState({done:!1})):b(Object(v.a)(Object(v.a)({},a.state),{},{done:!0}),a.setState({done:!0})),e()},a.handlerSubmit=function(t){var e=a.props.refreshState;t.preventDefault(),t.target.firstChild.blur(),b(Object(v.a)(Object(v.a)({},a.state),{},{isEditing:!1})),e()},a.editHandler=function(t){a.setState({inputValue:t.target.value})};var r=a.props.task;return a.state={id:r.id,done:r.done,isEditing:r.isEditing,inputValue:r.inputValue},a}return Object(l.a)(n,[{key:"render",value:function(){var t=this,e=this.state,n=e.inputValue,a=e.id,r=e.isEditing,c=e.done,s=this.props.handlerDeleteTask;return""===a?null:Object(O.jsxs)("li",{className:"shadow-sm list-group-item d-flex flex-wrap justify-content-between align-items-center ".concat(r?"editing":""," ").concat(c?"done":""),"data-testid":"todo-item",children:[Object(O.jsx)("button",{className:"btn btn-light",type:"button",onClick:this.completeHandler,"data-testid":"todo-item-checkbox",children:Object(O.jsx)("span",{role:"img","aria-label":"Check to complete",children:c?"\u2705":"\u2b1c"})}),Object(O.jsxs)("form",{onSubmit:this.handlerSubmit,children:[Object(O.jsx)("input",{type:"checkbox",className:"d-none",defaultChecked:c?"checked":""}),Object(O.jsx)("input",{required:!0,title:n,className:"input-task",type:"text",id:a,value:n,onChange:this.editHandler,onFocus:function(){return t.setState({isEditing:!0})},onBlur:function(){return t.setState({isEditing:!1})},"data-testid":"todo-item-input"},a)]}),Object(O.jsx)("button",{className:"btn btn-light",type:"button",onClick:function(){return s(a)},"data-testid":"todo-item-delete-button",children:Object(O.jsx)("span",{role:"img","aria-label":"trash bin",children:"\ud83d\uddd1\ufe0f"})})]})}}]),n}(r.a.Component)),k=function(t){Object(j.a)(n,t);var e=Object(u.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={},a}return Object(l.a)(n,[{key:"render",value:function(){var t=this,e=this.props.tasks;return Object(O.jsx)(O.Fragment,{children:0===e.length?Object(O.jsxs)("p",{className:"text-center mt-3 h3","data-testid":"no-todos",children:["There is any to do yet ",Object(O.jsx)("span",{role:"img","aria-label":"sad face",children:"\ud83d\ude25"})]}):Object(O.jsx)("ul",{className:"list-group","data-testid":"todos-list",children:e.map((function(e){return Object(O.jsx)(g,Object(v.a)({task:e},t.props),e.id)}))})})}}]),n}(r.a.Component),S=function(t){Object(j.a)(n,t);var e=Object(u.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={},a}return Object(l.a)(n,[{key:"render",value:function(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(k,Object(v.a)({},this.props))})}}]),n}(r.a.Component),C=function(t){Object(j.a)(n,t);var e=Object(u.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={},a}return Object(l.a)(n,[{key:"render",value:function(){var t=this.props.tasks.filter((function(t){return!t.done}));return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(k,Object(v.a)(Object(v.a)({},this.props),{},{tasks:t}))})}}]),n}(r.a.Component),y=function(t){Object(j.a)(n,t);var e=Object(u.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={},a}return Object(l.a)(n,[{key:"render",value:function(){var t=this.props.tasks.filter((function(t){return t.done}));return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(k,Object(v.a)(Object(v.a)({},this.props),{},{tasks:t}))})}}]),n}(r.a.Component),N=function(t){Object(j.a)(n,t);var e=Object(u.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={},a}return Object(l.a)(n,[{key:"render",value:function(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(x.c,{children:[Object(O.jsx)(x.a,{exact:!0,path:"/",children:Object(O.jsx)(S,Object(v.a)({},this.props))}),Object(O.jsx)(x.a,{exact:!0,path:"/completed",children:Object(O.jsx)(y,Object(v.a)({},this.props))}),Object(O.jsx)(x.a,{exact:!0,path:"/active",children:Object(O.jsx)(C,Object(v.a)({},this.props))})]})})}}]),n}(r.a.Component),w=(n(39),function(t){Object(j.a)(n,t);var e=Object(u.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={},a}return Object(l.a)(n,[{key:"render",value:function(){var t=this.props,e=t.counter,n=t.handlerClearCompleted;return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("nav",{className:"navbar rounded flex-wrap",children:[Object(O.jsx)("span",{className:"flex-fill small text-center",children:"".concat(e,e>1?" todos left":" todo left")}),Object(O.jsxs)("div",{className:"navbar-nav flex-row flex-wrap justify-content-center",children:[Object(O.jsx)(d.b,{to:"/",className:"nav-link",children:"All"}),Object(O.jsx)(d.b,{to:"/active",className:"nav-link",children:"Active"}),Object(O.jsx)(d.b,{to:"/completed",className:"nav-link",children:"Completed"}),Object(O.jsxs)("button",{type:"button","data-testid":"clear-completed-todos",className:"btn btn-primary",onClick:n,children:["Clear completed ",Object(O.jsx)("span",{role:"img","aria-label":"checkbox",children:"\u2714\ufe0f"})]})]})]})})}}]),n}(r.a.Component)),F=(n(40),function(t){Object(j.a)(n,t);var e=Object(u.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={},a}return Object(l.a)(n,[{key:"render",value:function(){return Object(O.jsx)("div",{className:"background_img"})}}]),n}(r.a.Component)),D=(n(41),function(t){Object(j.a)(n,t);var e=Object(u.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={},a}return Object(l.a)(n,[{key:"render",value:function(){return Object(O.jsx)("h1",{className:"title display-1 text-white text-center m-5 font-weight-bold",children:Object(O.jsx)("strong",{children:"To Do List"})})}}]),n}(r.a.Component)),T=function(t){Object(j.a)(n,t);var e=Object(u.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).handlerNewToDo=function(t){b(t),a.refreshState()},a.handlerDeleteTask=function(t){h(t),a.refreshState()},a.handlerClearCompleted=function(){Object.values(localStorage).forEach((function(t){var e=JSON.parse(t);e.done&&h(e.id)})),a.refreshState()},a.refreshState=function(){var t=Object.values(localStorage).map((function(t){return JSON.parse(t)})).sort((function(t,e){return e.id-t.id}));t.length>0?a.setState({tasks:Object(i.a)(t)}):a.setState({tasks:[]})},a.state={tasks:[]},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.refreshState()}},{key:"render",value:function(){var t=this.state.tasks;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(F,{}),Object(O.jsxs)("main",{id:"main-app",className:"container mt-5",children:[Object(O.jsx)(D,{}),Object(O.jsx)("section",{className:"row justify-content-center",children:Object(O.jsxs)("div",{className:"col col-sm-12 col-md-6 p-5 rounded bg-white shadow-lg",children:[Object(O.jsx)(m,{children:Object(O.jsx)(p,{handlerNewToDo:this.handlerNewToDo})}),Object(O.jsxs)(d.a,{children:[Object(O.jsx)(N,{tasks:t,handlerDeleteTask:this.handlerDeleteTask,refreshState:this.refreshState}),Object(O.jsx)(f,{children:Object(O.jsx)(w,{counter:t.length,handlerClearCompleted:this.handlerClearCompleted})})]})]})})]})]})}}]),n}(r.a.Component),E=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,43)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,c=e.getLCP,s=e.getTTFB;n(t),a(t),r(t),c(t),s(t)}))};s.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(T,{})}),document.getElementById("root")),E()}},[[42,1,2]]]);
//# sourceMappingURL=main.c2b69e52.chunk.js.map